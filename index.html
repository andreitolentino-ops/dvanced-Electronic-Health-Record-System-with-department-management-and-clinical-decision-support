<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ONE CARE SYSTEM ‚Äî Modern Blue (Merged)</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-slate-50 text-slate-700 min-h-screen antialiased transition-colors duration-300">

  <!-- Header -->
  <header class="fixed inset-x-0 top-0 h-20 flex items-center justify-between px-6 bg-gradient-to-r from-sky-700 to-indigo-800 text-white z-40 shadow-lg">
    <div class="flex items-center gap-4">
      <div class="w-12 h-12 flex items-center justify-center rounded-2xl bg-white/10 text-xl">ü©∫</div>
      <div>
        <div class="text-lg font-extrabold header-logo">ONE CARE <span class="text-amber-400">SYSTEM</span></div>
        <div class="text-xs opacity-80">Olivarez College Tagaytay ‚Ä¢ Version 1.3</div>
      </div>
    </div>
    <div class="flex items-center gap-3">
  <input id="searchTop" placeholder="Search name / physician / room..." class="px-3 py-2 rounded-xl text-slate-800 w-80 focus:outline-none" />
  <button type="button" id="btnNew" class="hidden md:inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-white/10 hover:bg-white/20 text-white font-semibold">‚ûï New Patient</button>
  <button type="button" id="darkToggle" class="p-2 rounded-lg bg-white/10 hover:bg-white/20" title="Toggle dark">üåó</button>
      <div id="userInfo" class="flex items-center gap-2 text-sm"></div>
  <button type="button" id="btnLogout" class="px-3 py-2 rounded-lg bg-white/10 hover:bg-white/20">Logout</button>
    </div>
  </header>

  <!-- Breadcrumb -->
  <div id="breadcrumb" class="max-w-7xl mx-auto mt-24 px-6 hidden md:block">
    <nav class="text-sm text-slate-500" aria-label="Breadcrumb">
      <ol class="list-reset flex items-center gap-2">
        <li><a href="#" class="hover:text-sky-600">Dashboard</a></li>
        <li>‚Ä∫</li>
        <li id="breadcrumb-current" class="font-semibold text-slate-700">Patient Information</li>
      </ol>
    </nav>
  </div>

  <!-- Main -->
  <main class="pt-4 px-6 pb-12">
    <div class="max-w-7xl mx-auto grid grid-cols-12 gap-6">
      <!-- Sidebar -->
      <aside class="col-span-12 md:col-span-3 lg:col-span-2 sticky top-28">
        <div class="p-4 rounded-2xl glass soft-shadow">
          <nav class="flex flex-col gap-2" id="mainNav">
            <button type="button" data-target="tab-dashboard" class="navbtn text-left px-3 py-2 rounded-xl bg-sky-50 font-semibold">Dashboard</button>
            <button type="button" data-target="tab-info" class="navbtn text-left px-3 py-2 rounded-xl">1 ‚Ä¢ Patient Information</button>
            <button type="button" data-target="tab-id" class="navbtn text-left px-3 py-2 rounded-xl">2 ‚Ä¢ Identification & Insurance</button>
            <button type="button" data-target="tab-history" class="navbtn text-left px-3 py-2 rounded-xl">3 ‚Ä¢ Medical History</button>
            <button type="button" data-target="tab-assessment" class="navbtn text-left px-3 py-2 rounded-xl">4 ‚Ä¢ Assessment</button>
            <button type="button" data-target="tab-labs" class="navbtn text-left px-3 py-2 rounded-xl">5 ‚Ä¢ Laboratory & Diagnostics</button>
            <button type="button" data-target="tab-meds" class="navbtn text-left px-3 py-2 rounded-xl">6 ‚Ä¢ Medication Orders</button>
            <button type="button" data-target="tab-vitals" class="navbtn text-left px-3 py-2 rounded-xl">7 ‚Ä¢ Vitals & Monitoring</button>
            <button type="button" data-target="tab-nurse" class="navbtn text-left px-3 py-2 rounded-xl">8 ‚Ä¢ Nurse Notes (FDAR)</button>
            <button type="button" data-target="tab-doctor" class="navbtn text-left px-3 py-2 rounded-xl">9 ‚Ä¢ Doctor Notes</button>
            <button type="button" data-target="tab-plan" class="navbtn text-left px-3 py-2 rounded-xl">10 ‚Ä¢ Discharge Plan</button>
          </nav>
        </div>
      </aside>

      <!-- Content area -->
      <section class="col-span-12 md:col-span-9 lg:col-span-10 space-y-6">
        <!-- Dashboard -->
        <div id="tab-dashboard" class="panel p-6 rounded-2xl glass soft-shadow">
          <div class="flex items-center justify-between">
            <div>
              <h2 class="text-2xl font-bold">Dashboard</h2>
              <p class="text-sm text-slate-500">Overview & quick actions</p>
            </div>
            <div class="flex items-center gap-4">
              <div class="text-sm text-slate-500">Records: <span id="count" class="font-extrabold">0</span></div>
              <select id="sortSelect" class="px-3 py-2 rounded-lg border border-slate-200">
                <option value="updatedAt_desc">Sort: Recent</option>
                <option value="name_asc">Sort: Name A‚ÄìZ</option>
              </select>
            </div>
          </div>

          <div class="mt-6 grid grid-cols-1 sm:grid-cols-3 gap-4">
            <div class="p-4 rounded-xl glass soft-shadow text-center">
              <div class="text-sm text-slate-500">Total Patients</div>
              <div id="totalPatients" class="text-3xl font-bold">0</div>
            </div>
            <div class="p-4 rounded-xl glass soft-shadow text-center">
              <div class="text-sm text-slate-500">Inpatients</div>
              <div id="inPatients" class="text-3xl font-bold">0</div>
            </div>
            <div class="p-4 rounded-xl glass soft-shadow text-center">
              <div class="text-sm text-slate-500">Outpatients</div>
              <div id="outPatients" class="text-3xl font-bold">0</div>
            </div>
          </div>

          <div id="patientsContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-6"></div>
        </div>

        <!-- Begin full tab forms (copied from your original file and restyled) -->

        <!-- 1 ‚Ä¢ Patient Information -->
        <div id="tab-info" class="panel hidden p-6 rounded-2xl glass soft-shadow">
          <h3 class="text-xl font-bold mb-3">1 ‚Ä¢ Patient Information</h3>
          <form id="form-info" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
              <label for="info_mrn" class="text-sm font-semibold">Medical Record No. (MRN)</label>
              <input id="info_mrn" name="mrn" class="mt-1 w-full rounded-lg px-3 py-2 border" placeholder="Hospital MRN / registry number" />
            </div>
            <div>
              <label for="info_patientStatus" class="text-sm font-semibold">Patient Class</label>
              <select id="info_patientStatus" name="patientStatus" class="mt-1 w-full rounded-lg px-3 py-2 border">
                <option value="Outpatient">Outpatient</option>
                <option value="Inpatient">Inpatient</option>
                <option value="Emergency">Emergency</option>
                <option value="Observation">Observation</option>
              </select>
            </div>

            <div>
              <label for="info_admissionDate" class="text-sm font-semibold">Admission Date</label>
              <input id="info_admissionDate" name="admissionDate" type="date" class="mt-1 w-full rounded-lg px-3 py-2 border" />
            </div>
            <div>
              <label for="info_admissionTime" class="text-sm font-semibold">Admission Time</label>
              <input id="info_admissionTime" name="admissionTime" type="time" class="mt-1 w-full rounded-lg px-3 py-2 border" />
            </div>

            <div>
              <label for="info_physician" class="text-sm font-semibold">Attending Physician</label>
              <input id="info_physician" name="physician" class="mt-1 w-full rounded-lg px-3 py-2 border" placeholder="Dr. Name / Service" />
            </div>
            <div>
              <label for="info_referralSource" class="text-sm font-semibold">Referral Source / Arrival</label>
              <input id="info_referralSource" name="referralSource" class="mt-1 w-full rounded-lg px-3 py-2 border" placeholder="Referral clinic / transfer from" />
            </div>

            <div class="sm:col-span-2">
              <label for="info_name" class="text-sm font-semibold">Full name *</label>
              <input id="info_name" name="name" class="mt-1 w-full rounded-lg px-3 py-2 border" placeholder="Last, First Middle" required />
            </div>

            <div>
              <label for="info_otherName" class="text-sm font-semibold">Other / Maiden name</label>
              <input id="info_otherName" name="otherName" class="mt-1 w-full rounded-lg px-3 py-2 border" />
            </div>

            <div>
              <label for="info_civilStatus" class="text-sm font-semibold">Civil Status</label>
              <select id="info_civilStatus" name="civilStatus" class="mt-1 w-full rounded-lg px-3 py-2 border">
                <option value="">--</option><option>Single</option><option>Married</option><option>Widowed</option><option>Divorced</option>
              </select>
            </div>

            <div>
              <label for="info_dob" class="text-sm font-semibold">Date of Birth</label>
              <input id="info_dob" name="dob" type="date" class="mt-1 w-full rounded-lg px-3 py-2 border" />
            </div>
            <div>
              <label for="info_age" class="text-sm font-semibold">Age</label>
              <input id="info_age" name="age" type="number" class="mt-1 w-full rounded-lg px-3 py-2 border" />
            </div>

            <div>
              <label for="info_gender" class="text-sm font-semibold">Sex</label>
              <select id="info_gender" name="gender" class="mt-1 w-full rounded-lg px-3 py-2 border">
                <option value="">--</option><option>Male</option><option>Female</option><option>Other</option>
              </select>
            </div>

            <div>
              <label for="info_contact" class="text-sm font-semibold">Contact number</label>
              <input id="info_contact" name="contact" class="mt-1 w-full rounded-lg px-3 py-2 border" />
            </div>

            <div>
              <label for="info_email" class="text-sm font-semibold">Email</label>
              <input id="info_email" name="email" type="email" class="mt-1 w-full rounded-lg px-3 py-2 border" />
            </div>

            <div class="sm:col-span-2">
              <label for="info_address" class="text-sm font-semibold">Home Address</label>
              <input id="info_address" name="address" class="mt-1 w-full rounded-lg px-3 py-2 border" />
            </div>

            <div>
              <label for="info_language" class="text-sm font-semibold">Primary Language</label>
              <input id="info_language" name="primaryLanguage" class="mt-1 w-full rounded-lg px-3 py-2 border" />
            </div>
            <div>
              <label for="info_ethnicity" class="text-sm font-semibold">Ethnicity / Religion</label>
              <input id="info_ethnicity" name="ethnicity" class="mt-1 w-full rounded-lg px-3 py-2 border" />
            </div>

            <div>
              <label for="info_occupation" class="text-sm font-semibold">Occupation</label>
              <input id="info_occupation" name="occupation" class="mt-1 w-full rounded-lg px-3 py-2 border" />
            </div>
            <div>
              <label for="info_employer" class="text-sm font-semibold">Employer</label>
              <input id="info_employer" name="employer" class="mt-1 w-full rounded-lg px-3 py-2 border" />
            </div>

            <div class="sm:col-span-2">
              <label class="text-sm font-semibold">Emergency Contact</label>
              <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 mt-1">
                <input id="info_emg_name" name="emg_name" placeholder="Name" class="rounded-lg px-3 py-2 border" />
                <input id="info_emg_relation" name="emg_relation" placeholder="Relation" class="rounded-lg px-3 py-2 border" />
                <input id="info_emg_phone" name="emg_phone" placeholder="Phone" class="rounded-lg px-3 py-2 border" />
              </div>
            </div>

            <div>
              <label for="info_allergies" class="text-sm font-semibold">Allergies</label>
              <input id="info_allergies" name="allergies" class="mt-1 w-full rounded-lg px-3 py-2 border" placeholder="List allergies (drug, food, latex)" />
            </div>
            <div>
              <label for="info_chronic" class="text-sm font-semibold">Chronic Conditions</label>
              <input id="info_chronic" name="chronicConditions" class="mt-1 w-full rounded-lg px-3 py-2 border" placeholder="e.g., HTN, DM, COPD" />
            </div>

            <div class="sm:col-span-2">
              <label for="info_surgeries" class="text-sm font-semibold">Past Surgeries / Significant Medical History</label>
              <textarea id="info_surgeries" name="pastSurgeries" class="w-full rounded-lg p-3 border" placeholder="Past surgeries, dates, complications"></textarea>
            </div>

            <div class="sm:col-span-2">
              <label for="info_initialDiagnosis" class="text-sm font-semibold">Initial / Primary Diagnosis *</label>
              <input id="info_initialDiagnosis" name="initialDiagnosis" required class="mt-1 w-full rounded-lg px-3 py-2 border" placeholder="Initial diagnosis / impression" />
            </div>

            <div class="sm:col-span-2 flex gap-2 mt-2">
              <button type="button" id="saveInfoBtn" data-save="info" class="px-4 py-2 bg-sky-600 text-white rounded-lg font-semibold">üíæ Save Info</button>
              <button type="button" id="clearInfo" class="px-4 py-2 bg-white rounded-lg border">Clear</button>
            </div>
          </form>
        </div>

        <!-- 2 ‚Ä¢ Identification & Insurance -->
        <div id="tab-id" class="panel hidden p-6 rounded-2xl glass soft-shadow">
          <h3 class="text-xl font-bold mb-3">2 ‚Ä¢ Identification & Insurance</h3>
          <form id="form-id" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
              <label class="text-sm font-semibold">Primary Government ID</label>
              <select id="id_govIdType" name="govIdType" class="mt-1 w-full rounded-lg px-3 py-2 border">
                <option value="">Select ID</option>
                <option>Driver's License</option>
                <option>Passport</option>
                <option>National ID</option>
                <option>Voter ID</option>
              </select>
            </div>
            <div>
              <label class="text-sm font-semibold">Government ID No.</label>
              <input id="id_govIdNo" name="govIdNo" class="mt-1 w-full rounded-lg px-3 py-2 border"/>
            </div>

            <div>
              <label class="text-sm font-semibold">Insurance Provider</label>
              <input id="id_insProvider" name="insuranceProvider" class="mt-1 w-full rounded-lg px-3 py-2 border" placeholder="Insurer name" />
            </div>
            <div>
              <label class="text-sm font-semibold">Policy / Member No.</label>
              <input id="id_policyNo" name="policyNo" class="mt-1 w-full rounded-lg px-3 py-2 border" />
            </div>

            <div>
              <label class="text-sm font-semibold">Coverage Type</label>
              <select id="id_coverageType" name="coverageType" class="mt-1 w-full rounded-lg px-3 py-2 border">
                <option value="Private">Private</option>
                <option value="Government">Government / PhilHealth</option>
                <option value="HMO">HMO</option>
                <option value="None">None / Self-pay</option>
              </select>
            </div>
            <div>
              <label class="text-sm font-semibold">Guarantor / Responsible Party</label>
              <input id="id_guarantor" name="guarantor" class="mt-1 w-full rounded-lg px-3 py-2 border" placeholder="Name / relation" />
            </div>

            <div>
              <label class="text-sm font-semibold">Employer (for billing)</label>
              <input id="id_employer" name="insuranceEmployer" class="mt-1 w-full rounded-lg px-3 py-2 border" />
            </div>
            <div>
              <label class="text-sm font-semibold">Notes / Special Authorizations</label>
              <input id="id_notes" name="insuranceNotes" class="mt-1 w-full rounded-lg px-3 py-2 border" />
            </div>

            <div class="sm:col-span-2 flex gap-2 mt-2">
              <button type="button" class="px-4 py-2 bg-sky-600 text-white rounded-lg" data-save="id">üíæ Save ID & Insurance</button>
              <button type="button" id="clearID" class="px-4 py-2 bg-white rounded-lg border">Clear</button>
            </div>
          </form>
        </div>

        <!-- 3 ‚Ä¢ Medical History -->
        <div id="tab-history" class="panel hidden p-6 rounded-2xl glass soft-shadow">
          <h3 class="text-xl font-bold mb-3">3 ‚Ä¢ Medical History</h3>
          <form id="form-history" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div class="sm:col-span-2">
              <label class="text-sm">Chief Complaint</label>
              <input name="chiefComplaint" class="w-full rounded-lg p-3 border" placeholder="Main reason for visit" />
            </div>
            <div class="sm:col-span-2">
              <label class="text-sm">History of Present Illness</label>
              <textarea name="historyPresentIllness" class="w-full rounded-lg p-3 border" placeholder="Onset, progression, associated symptoms"></textarea>
            </div>

            <div>
              <label class="text-sm">Past Medical History</label>
              <input name="pastMedicalHistory" class="w-full rounded-lg p-2 border" placeholder="List chronic illnesses" />
            </div>
            <div>
              <label class="text-sm">Past Surgical History</label>
              <input name="pastSurgicalHistory" class="w-full rounded-lg p-2 border" placeholder="Surgeries and dates" />
            </div>

            <div>
              <label class="text-sm">Current Medications</label>
              <input name="currentMedications" class="w-full rounded-lg p-2 border" placeholder="Name, dose, frequency" />
            </div>
            <div>
              <label class="text-sm">Allergies / Reactions</label>
              <input name="allergySummary" class="w-full rounded-lg p-2 border" placeholder="Agent and reaction" />
            </div>

            <div>
              <label class="text-sm">Social History</label>
              <input name="socialHistory" class="w-full rounded-lg p-2 border" placeholder="Smoking / alcohol / occupation" />
            </div>
            <div>
              <label class="text-sm">Family History</label>
              <input name="familyHistory" class="w-full rounded-lg p-2 border" placeholder="Significant hereditary conditions" />
            </div>

            <div class="sm:col-span-2">
              <label class="text-sm">Review of Systems (brief)</label>
              <textarea name="reviewOfSystems" class="w-full rounded-lg p-3 border" placeholder="Constitutional, Cardio, Resp., GI, GU, Neuro etc."></textarea>
            </div>

            <div class="sm:col-span-2 mt-2 flex gap-2">
              <button type="button" data-save="history" class="px-4 py-2 bg-sky-600 text-white rounded-lg">üíæ Save Medical History</button>
              <button type="button" id="clearHistory" class="px-4 py-2 bg-white rounded-lg border">Clear</button>
            </div>
          </form>
        </div>

        <!-- 4 ‚Ä¢ Assessment -->
        <div id="tab-assessment" class="panel hidden p-6 rounded-2xl glass soft-shadow">
          <h3 class="text-xl font-bold mb-3">4 ‚Ä¢ Assessment & Plan</h3>
          <form id="form-assessment" class="grid grid-cols-1 gap-4">
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
              <div>
                <label class="text-sm">Primary Problem / Working Dx</label>
                <input name="assessment_workingDx" class="w-full rounded-lg p-2 border" placeholder="Primary working diagnosis" />
              </div>
              <div>
                <label class="text-sm">Onset</label>
                <input name="assessment_onset" class="w-full rounded-lg p-2 border" placeholder="e.g., 2 days ago" />
              </div>
              <div>
                <label class="text-sm">Duration / Course</label>
                <input name="assessment_duration" class="w-full rounded-lg p-2 border" placeholder="hours / days / chronic" />
              </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
              <div>
                <label class="text-sm">Severity</label>
                <select name="assessment_severity" class="w-full rounded-lg p-2 border"><option>Mild</option><option>Moderate</option><option>Severe</option></select>
              </div>
              <div>
                <label class="text-sm">Acuity</label>
                <select name="assessment_acuity" class="w-full rounded-lg p-2 border"><option>Acute</option><option>Chronic</option><option>Acute on chronic</option></select>
              </div>
              <div>
                <label class="text-sm">Status</label>
                <select name="assessment_status" class="w-full rounded-lg p-2 border"><option>Active</option><option>Resolved</option><option>Under observation</option></select>
              </div>
            </div>

            <div>
              <label class="text-sm">Pertinent Exam Findings</label>
              <textarea name="assessment_examFindings" class="w-full rounded-lg p-3 border" placeholder="Key physical exam findings relevant to this assessment"></textarea>
            </div>

            <div>
              <label class="text-sm">Differential Diagnoses</label>
              <textarea name="assessment_differential" class="w-full rounded-lg p-3 border" placeholder="List differential diagnoses in order of likelihood"></textarea>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
              <div>
                <label class="text-sm">ICD-10 / SNOMED Code</label>
                <input name="assessment_code" class="w-full rounded-lg p-2 border" placeholder="Optional code" />
              </div>
              <div>
                <label class="text-sm">Priority</label>
                <select name="assessment_priority" class="w-full rounded-lg p-2 border"><option>Routine</option><option>Urgent</option><option>Stat</option></select>
              </div>
            </div>

            <div>
              <label class="text-sm">Investigations / Orders</label>
              <textarea name="assessment_investigations" class="w-full rounded-lg p-3 border" placeholder="Lab tests, imaging, other investigations to order (specimen, priority)"></textarea>
            </div>

            <div>
              <label class="text-sm">Consults / Referrals</label>
              <input name="assessment_consults" class="w-full rounded-lg p-2 border" placeholder="Requested consults (e.g., Cardiology)" />
            </div>

            <div>
              <label class="text-sm">Treatment / Procedures Ordered</label>
              <textarea name="assessment_treatmentOrders" class="w-full rounded-lg p-3 border" placeholder="Medications, fluids, procedures, O2, wound care"></textarea>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
              <div>
                <label class="text-sm">Disposition / Plan</label>
                <select name="assessment_disposition" class="w-full rounded-lg p-2 border"><option>Admit</option><option>Discharge</option><option>Transfer</option><option>Observation</option></select>
              </div>
              <div>
                <label class="text-sm">Follow-up / Next Step</label>
                <input name="assessment_followup" class="w-full rounded-lg p-2 border" placeholder="Follow-up date, clinic, or action" />
              </div>
            </div>

            <div>
              <label class="text-sm">Additional Notes / Safety Netting</label>
              <textarea name="assessment_notes" class="w-full rounded-lg p-3 border" placeholder="Warnings, red flags, phone advice"></textarea>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 items-end">
              <div>
                <label class="text-sm">Signed by</label>
                <input name="assessment_signedBy" class="w-full rounded-lg p-2 border" placeholder="Provider name" />
              </div>
              <div>
                <label class="text-sm">Signature / ID</label>
                <input name="assessment_signature" class="w-full rounded-lg p-2 border" placeholder="Provider ID or initials" />
              </div>
              <div>
                <label class="text-sm">Signed at</label>
                <input name="assessment_signedAt" type="datetime-local" class="w-full rounded-lg p-2 border" />
              </div>
            </div>

            <div class="mt-2">
              <button type="button" data-save="assessment" class="px-4 py-2 bg-sky-600 text-white rounded-lg">üíæ Save Assessment</button>
            </div>
          </form>
        </div>

        <!-- 5 ‚Ä¢ Labs -->
        <div id="tab-labs" class="panel hidden p-6 rounded-2xl glass soft-shadow">
          <h3 class="text-xl font-bold mb-3">5 ‚Ä¢ Laboratory & Diagnostics</h3>
          <form id="form-labs" class="grid grid-cols-1 gap-3">
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-2">
              <input name="lab_test" placeholder="Test / Imaging (e.g., CBC, Chest X-ray)" class="rounded-lg p-2 border" />
              <select name="lab_priority" class="rounded-lg p-2 border"><option>Routine</option><option>Urgent</option><option>Stat</option></select>
              <input name="lab_specimen" placeholder="Specimen (blood, urine, swab)" class="rounded-lg p-2 border" />
            </div>

            <div>
              <label class="text-sm">Indication / Clinical Notes</label>
              <textarea name="lab_indication" class="w-full rounded-lg p-3 border" placeholder="Why the test was ordered"></textarea>
            </div>

            <div class="mt-3 flex items-center gap-2">
              <input accept="image/*,.pdf" id="labFileInput" type="file"/>
              <button type="button" id="uploadLabBtn" class="ml-2 px-3 py-1 rounded-lg bg-white border">‚¨ÜÔ∏è Upload</button>
            </div>
            <div id="uploadProgress" class="mt-2 hidden">
              <div class="w-full bg-slate-200 rounded h-2 overflow-hidden">
                <div id="uploadProgressBar" class="h-2 bg-sky-600 w-0"></div>
              </div>
              <div id="uploadProgressText" class="text-sm text-slate-500 mt-1">0%</div>
            </div>

            <div id="labFilesList" class="mt-3 flex flex-wrap gap-2"></div>

            <div class="mt-3 flex gap-2">
              <button type="button" data-save="labs" class="px-4 py-2 bg-sky-600 text-white rounded-lg">üíæ Save Labs</button>
              <button type="button" id="clearLabs" class="px-4 py-2 bg-white rounded-lg border">Clear</button>
            </div>
          </form>
        </div>

        <!-- 6 ‚Ä¢ Medication Orders -->
        <div id="tab-meds" class="panel hidden p-6 rounded-2xl glass soft-shadow">
          <h3 class="text-xl font-bold mb-3">6 ‚Ä¢ Medication Orders</h3>
          <form id="form-meds">
            <div class="overflow-x-auto">
              <table class="w-full text-sm" id="medTable">
                <thead><tr><th>Drug</th><th>Dosage</th><th>Route</th><th>Frequency</th><th>Start</th><th>Duration</th><th>PRN</th><th>Prescriber</th><th>Action</th></tr></thead>
                <tbody id="medTableBody">
                  <tr>
                    <td><input name="drug" class="w-full rounded border px-2 py-1"/></td>
                    <td><input name="dosage" class="w-full rounded border px-2 py-1"/></td>
                    <td><input name="route" class="w-full rounded border px-2 py-1"/></td>
                    <td><input name="frequency" class="w-full rounded border px-2 py-1"/></td>
                    <td><input name="startDate" type="date" class="w-full rounded border px-2 py-1"/></td>
                    <td><input name="duration" placeholder="e.g., 5 days" class="w-full rounded border px-2 py-1"/></td>
                    <td><select name="prn" class="w-full rounded border px-2 py-1"><option value="No">No</option><option value="Yes">Yes</option></select></td>
                    <td><input name="prescriber" class="w-full rounded border px-2 py-1"/></td>
                    <td><button type="button" class="btn-remove-row px-2 py-1 rounded bg-white border">üóëÔ∏è</button></td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="mt-3 flex gap-2">
              <button type="button" id="addMedRow" class="px-4 py-2 bg-white rounded-lg border">‚ûï Add Row</button>
              <button type="button" data-save="meds" class="px-4 py-2 bg-sky-600 text-white rounded-lg">üíæ Save Orders</button>
              <button type="button" id="clearMeds" class="px-4 py-2 bg-white rounded-lg border">Clear</button>
            </div>
          </form>
        </div>

        <!-- 7 ‚Ä¢ Vitals -->
        <div id="tab-vitals" class="panel hidden p-6 rounded-2xl glass soft-shadow">
          <h3 class="text-xl font-bold mb-3">7 ‚Ä¢ Vitals & Monitoring</h3>
          <form id="form-vitals">
            <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
              <input name="v_date" id="v_date" type="date" class="rounded-lg p-2 border"/>
              <input name="v_time" id="v_time" type="time" class="rounded-lg p-2 border"/>
              <input name="v_temp" id="v_temp" placeholder="Temp (¬∞C)" class="rounded-lg p-2 border" />
              <input name="v_pulse" id="v_pulse" placeholder="Pulse (bpm)" class="rounded-lg p-2 border" />
            </div>
            <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 mt-2">
              <input name="v_rr" id="v_rr" placeholder="Resp Rate" class="rounded-lg p-2 border" />
              <input name="v_spo2" id="v_spo2" placeholder="SpO2 (%)" class="rounded-lg p-2 border" />
              <input name="v_bp" id="v_bp" placeholder="BP (e.g., 120/80)" class="rounded-lg p-2 border" />
              <input name="v_by" id="v_by" placeholder="Recorded by" class="rounded-lg p-2 border" />
            </div>
            <div class="mt-3 flex gap-2">
              <button type="button" id="btnAddVitals" class="px-4 py-2 bg-white rounded-lg border">‚ûï Add Vitals Row</button>
              <button type="button" data-save="vitals" class="px-4 py-2 bg-white rounded-lg border">üíæ Save Vitals</button>
              <button type="button" id="clearVitals" class="px-4 py-2 bg-white rounded-lg border">Clear</button>
            </div>
            <div id="vitalsTableWrap" class="mt-3 max-h-48 overflow-auto border rounded p-2">
              <table class="w-full text-sm"><thead><tr><th>Date</th><th>Time</th><th>Temp</th><th>P</th><th>RR</th><th>BP</th><th>SpO2</th><th>By</th><th>Action</th></tr></thead><tbody id="vitalsTableBody"></tbody></table>
            </div>
          </form>
        </div>

        <!-- 8 ‚Ä¢ Nurse Notes -->
        <div id="tab-nurse" class="panel hidden p-6 rounded-2xl glass soft-shadow">
          <h3 class="text-xl font-bold mb-3">8 ‚Ä¢ Nurse Notes (FDAR)</h3>
          <form id="form-nurse" class="grid grid-cols-1 gap-3">
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-2">
              <input name="nurse_date" type="date" class="rounded-lg p-2 border" />
              <input name="nurse_time" type="time" class="rounded-lg p-2 border" />
              <input name="nurse_by" placeholder="Nurse name / initials" class="rounded-lg p-2 border" />
            </div>
            <div>
              <label class="text-sm">F - Focus / Findings</label>
              <textarea name="nurse_f" class="w-full rounded-lg p-3 border" placeholder="Focus / Findings"></textarea>
            </div>
            <div>
              <label class="text-sm">D - Data</label>
              <textarea name="nurse_d" class="w-full rounded-lg p-3 border" placeholder="Objective data / vitals / observations"></textarea>
            </div>
            <div>
              <label class="text-sm">A - Action / Intervention</label>
              <textarea name="nurse_a" class="w-full rounded-lg p-3 border" placeholder="Interventions performed"></textarea>
            </div>
            <div>
              <label class="text-sm">R - Response</label>
              <textarea name="nurse_r" class="w-full rounded-lg p-3 border" placeholder="Patient response to interventions"></textarea>
            </div>
            <div class="mt-3">
              <button type="button" data-save="nurse" class="px-4 py-2 bg-sky-600 text-white rounded-lg">üíæ Save Nurse Notes</button>
            </div>
          </form>
        </div>

        <!-- 9 ‚Ä¢ Doctor Notes -->
        <div id="tab-doctor" class="panel hidden p-6 rounded-2xl glass soft-shadow">
          <h3 class="text-xl font-bold mb-3">9 ‚Ä¢ Doctor Notes</h3>
          <form id="form-doctor" class="grid grid-cols-1 gap-3">
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
              <input name="doc_date" type="date" class="rounded-lg p-2 border" />
              <input name="doc_time" type="time" class="rounded-lg p-2 border" />
            </div>
            <div>
              <label class="text-sm">Subjective</label>
              <textarea name="doc_subjective" class="w-full rounded-lg p-3 border" placeholder="Patient's report / symptoms"></textarea>
            </div>
            <div>
              <label class="text-sm">Objective</label>
              <textarea name="doc_objective" class="w-full rounded-lg p-3 border" placeholder="Exam findings, vitals, labs"></textarea>
            </div>
            <div>
              <label class="text-sm">Assessment</label>
              <textarea name="doc_assessment" class="w-full rounded-lg p-3 border" placeholder="Clinical impression / diagnosis"></textarea>
            </div>
            <div>
              <label class="text-sm">Plan</label>
              <textarea name="doc_plan" class="w-full rounded-lg p-3 border" placeholder="Investigations, consults, treatment plan"></textarea>
            </div>
            <div class="mt-3 flex gap-2">
              <button type="button" class="px-4 py-2 bg-sky-600 text-white rounded-lg" data-save="doctor">üíæ Save Doctor Notes</button>
              <button type="button" id="clearDoctor" class="px-4 py-2 bg-white rounded-lg border">Clear</button>
            </div>
          </form>
        </div>

        <!-- 10 ‚Ä¢ Discharge Plan -->
        <div id="tab-plan" class="panel hidden p-6 rounded-2xl glass soft-shadow">
          <h3 class="text-xl font-bold mb-3">10 ‚Ä¢ Discharge Plan</h3>
          <form id="form-plan" class="grid grid-cols-1 gap-3">
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
              <div>
                <label class="text-sm">Discharge Date</label>
                <input name="discharge_date" type="date" class="w-full rounded border px-2 py-1"/>
              </div>
              <div>
                <label class="text-sm">Discharge Time</label>
                <input name="discharge_time" type="time" class="w-full rounded border px-2 py-1"/>
              </div>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
              <div><label class="text-sm">Final Diagnosis</label><input name="dis_finalDx" class="w-full rounded border px-2 py-1"/></div>
              <div><label class="text-sm">Condition on Discharge</label><input name="dis_condition" class="w-full rounded border px-2 py-1"/></div>
            </div>
            <div>
              <label class="text-sm">Medications on Discharge</label>
              <textarea name="dis_meds" class="w-full rounded border p-2" placeholder="Drugs, dose, frequency"></textarea>
            </div>
            <div>
              <label class="text-sm">Follow-up Appointments</label>
              <input name="dis_followup" class="w-full rounded border p-2" placeholder="Date / Clinic / Notes" />
            </div>
            <div>
              <label class="text-sm">Discharge Instructions / Education</label>
              <textarea name="dis_instructions" class="w-full rounded border p-2" style="min-height:120px" placeholder="Diet, activity, wound care, warning signs"></textarea>
            </div>
            <div class="mt-3 flex gap-2">
              <button type="button" data-save="plan" class="px-4 py-2 bg-sky-600 text-white rounded-lg">üíæ Save Discharge Plan</button>
              <button type="button" id="clearPlan" class="px-4 py-2 bg-white rounded-lg border">Clear</button>
            </div>
          </form>
        </div>

        <!-- End tab forms -->

      </section>
    </div>
  </main>

  <!-- Modal for patient detail (kept from original) -->
  <div id="modal" class="fixed inset-0 z-50 hidden items-center justify-center p-6">
    <div id="modalBody" class="w-full max-w-3xl rounded-2xl glass soft-shadow p-4"></div>
    <button type="button" class="absolute top-6 right-6 btn-ghost" onclick="closeModal()">‚úï</button>
  </div>

  <!-- Login modal -->
  <div id="loginModal" class="fixed inset-0 z-50 flex items-center justify-center bg-slate-900 bg-opacity-60 hidden">
    <div class="w-full max-w-md p-6 rounded-2xl glass soft-shadow text-slate-800">
      <div class="flex items-center gap-4 mb-4">
        <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-sky-600 to-indigo-700 text-white flex items-center justify-center">ü©∫</div>
        <div>
          <div class="text-lg font-bold">ONE CARE <span class="text-amber-400">SYSTEM</span></div>
          <div class="text-sm text-slate-500">Sign in to continue</div>
        </div>
      </div>
      <div class="space-y-3">
        <input id="loginEmail" type="email" placeholder="Email" class="w-full rounded-lg p-3 border" />
        <input id="loginPass" type="password" placeholder="Password" class="w-full rounded-lg p-3 border" />
        <div class="flex items-center justify-between">
          <button type="button" id="loginBtn" class="btn-primary">Sign in</button>
          <button type="button" id="loginCancel" class="btn-ghost">Cancel</button>
        </div>
        <div id="loginError" class="text-sm text-red-600 hidden"></div>
      </div>
    </div>
  </div>

  <!-- Toast container (toasts are injected by JS) -->
  <div id="toastContainer" aria-live="polite" class="fixed right-6 bottom-6 z-50"></div>

  <!-- Firebase SDKs (v8) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>

  <!-- app.js will be loaded separately -->
  <script src="app.js"></script>
</body>
</html>
