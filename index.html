<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>ONE CARE SYSTEM ‚Äî v1.3</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;display=swap" rel="stylesheet"/>


  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css">

</head>
<body>
<!-- LOGIN -->
<div id="loginScreen" style="min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px">
<div class="card" style="max-width:460px;width:100%">
<div style="display:flex;align-items:center;gap:12px;margin-bottom:14px">
<div class="logo-wrap" style="width:56px;height:56px;display:flex;align-items:center;justify-content:center;font-weight:800;color:#fff">ü©∫</div>
<div>
<div class="title">ONE CARE SYSTEM</div>
<div class="sub">Sign in with your email</div>
</div>
</div>
<div style="margin-top:8px">
<input id="loginEmail" placeholder="Email" style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(30,58,138,0.06);margin-bottom:8px"/>
<input id="loginPass" placeholder="Password" style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(30,58,138,0.06)" type="password"/>
</div>
<div style="display:flex;gap:8px;margin-top:12px">
<button class="btn btn-primary" id="btnLogin">Sign in</button>
<button class="btn btn-ghost" id="btnHelp">Help</button>
</div>
<div class="sub" id="loginError" style="color:var(--gold);margin-top:8px;display:none"></div>
<div class="small-muted" style="margin-top:12px">Don't have an account? Ask your Admin to create one and add role in Firestore.</div>
</div>
</div>
<!-- APP -->
<div class="page" id="app" style="display:none">
<div class="print-header">
<h2>Olivarez College Tagaytay</h2>
<small>ONE CARE EHR System</small>
<hr style="margin-top:10px;margin-bottom:20px;border:1px solid #1E3A8A;"/>
</div>
<header style="display:none;">
<div class="brand" id="brand" title="Go to Dashboard">
<div class="logo-wrap">
<svg aria-hidden="" fill="none" height="44" viewbox="0 0 64 64" width="44" xmlns="http://www.w3.org/2000/svg">
<path d="M32 56s-20-12-24-19C3.8 29 3.6 20.4 9 15c5.6-5.4 13-3 17 0 4-3 11-5 17 0 4 3 11 6.4 16 0 5.2 5.4 5.2 14 1 22-4 7-24 20-24 20z" fill="#1E3A8A"></path>
<rect fill="#FBBF24" height="16" rx="1.5" width="8" x="28" y="22"></rect>
<rect fill="#FBBF24" height="8" rx="1.5" width="20" x="22" y="28"></rect>
</svg>
</div>
<div>
<div class="title">ONE CARE <span style="color:var(--gold)">SYSTEM</span></div>
<div class="sub">Olivarez College Tagaytay ‚Ä¢ Version 1.3</div>
</div>
</div>
<div class="header-controls">
<input class="search" id="searchBoxTop" placeholder="Search name / physician / room..."/>
<button class="btn btn-ghost" id="btnNew">‚ûï New Patient</button>
<button class="btn-ghost" id="sidebarToggle" title="Toggle sidebar">‚ò∞</button>
<button class="btn-ghost" id="darkToggle" title="Toggle dark mode">üåô</button>
<div id="userInfo" style="display:flex;align-items:center;gap:8px"></div>
<button class="btn btn-ghost" id="btnLogout">Logout</button>
</div>
</header>
<div class="layout">
<aside>
<nav><button class="navbtn" data-target="tab-info">1 ‚Ä¢ Patient Information</button><button class="navbtn" data-target="tab-id">2 ‚Ä¢ Identification &amp; Insurance</button><button class="navbtn" data-target="tab-history">3 ‚Ä¢ Medical History</button><button class="navbtn" data-target="tab-assessment">4 ‚Ä¢ Assessment</button><button class="navbtn" data-target="tab-labs">5 ‚Ä¢ Laboratory &amp; Diagnostics</button><button class="navbtn" data-target="tab-meds">6 ‚Ä¢ Medication Orders</button><button class="navbtn" data-target="tab-vitals">7 ‚Ä¢ Vitals &amp; Monitoring</button><button class="navbtn" data-target="tab-nurse">8 ‚Ä¢ Nurse Notes (FDAR)</button><button class="navbtn" data-target="tab-doctor">9 ‚Ä¢ Doctor Notes</button><button class="navbtn" data-target="tab-plan">10 ‚Ä¢ Discharge Plan</button></nav>
<div class="small-muted" style="margin-top:12px">Tip: Save each tab to persist to the selected patient. Use New Patient to create a fresh record.</div>
</aside>
<main>
<!-- Dashboard -->
<section class="card tab-page" id="tab-dashboard">
<div style="display:flex;justify-content:space-between;align-items:center">
<div>
<h3 style="margin:0">Dashboard</h3>
<div class="small-muted">Manage patient records ‚Äî refined view</div>
</div>
<div style="display:flex;align-items:center;gap:12px">
<div class="small-muted">Records: <strong id="count">0</strong></div>
<select id="sortSelect" style="padding:8px;border-radius:8px;border:1px solid rgba(30,58,138,0.06)">
<option value="updatedAt_desc">Sort: Recent</option>
<option value="name_asc">Sort: Name A‚ÄìZ</option>
</select>
</div>
</div>
<div id="patientsContainer" style="margin-top:12px;display:flex;gap:12px;flex-wrap:wrap"></div>
</section>
<!-- Patient Info -->
<!-- Patient Info (v1.3 updated) -->
<section class="card tab-page" id="tab-info" style="display:none">
<h3>1 ‚Ä¢ Patient Information</h3>
<form id="form-info">
<div class="row">
<div>
<label>Full name *</label>
<input name="name" placeholder="Last, First Middle" required=""/>
</div>
<div>
<label>Civil Status</label>
<select name="civilStatus">
<option value="">--</option>
<option>Single</option>
<option>Married</option>
<option>Widowed</option>
<option>Divorced</option>
</select>
</div>
</div>
<div class="row">
<div><label>Date of Birth</label><input name="dob" type="date"/></div>
<div><label>Age</label><input min="0" name="age" placeholder="Years" type="number"/></div>
</div>
<div class="row">
<div><label>Place of Birth</label><input name="placeOfBirth"/></div>
<div><label>Gender</label>
<select name="gender">
<option value="">--</option>
<option>Male</option>
<option>Female</option>
<option>Other</option>
</select>
</div>
</div><div class="row"><div><label>Weight (kg)</label><input id="info_weight" name="weight" step="any" type="number"/></div><div><label>Height (cm)</label><input id="info_height" name="height" step="any" type="number"/></div><div><label>BMI (auto)</label><div style="display:flex;align-items:center;gap:8px"><input id="info_bmi" name="bmi" placeholder="Auto" readonly="True"/><span id="bmi_reading" style="margin-left:8px;font-size:14px;color:var(--muted)"></span></div></div></div>
<div class="row">
<div><label>Nationality</label><input name="nationality"/></div>
<div><label>Contact Number</label><input name="contact"/></div>
</div>
<div class="row">
<div><label>Address</label><input name="address"/></div>
<div><label>Religion</label><input name="religion"/></div>
</div>
<div class="row">
<div></div>
</div>
<div class="row">
<div><label>Patient Status</label>
<select name="patientStatus">
<option>Inpatient</option>
<option>Outpatient</option>
</select>
</div>
<div><label>Room No.</label><input name="roomNo" placeholder="e.g., Ward 3"/></div>
</div>
<div class="row">
<div><label>Bed No.</label><input name="bedNo"/></div>
<div><label>Date of Admission</label><input name="admissionDate" type="date"/></div>
</div>
<div class="row">
<div class="full">
<label>Initial / Primary Diagnosis *</label>
<input name="initialDiagnosis" placeholder="Initial diagnosis / impression" required=""/>
</div>
</div>
<div class="row">
<div><label>Attending Physician</label><input name="physician" placeholder="Dr. Name"/></div>
<div><label>Chief Complaint</label><input name="chiefComplaint" placeholder="Main reason for admission"/></div>
</div>
<div class="actions">
<button class="btn btn-primary" data-save="info" id="saveInfoBtn" type="button">üíæ Save Info</button>
<button class="btn btn-ghost" id="clearInfo" type="button">Clear</button>
</div>
</form>
</section>
<!-- End of Patient Info -->
<!-- Identification -->
<section class="card tab-page" id="tab-id" style="display:none">
<h3>2 ‚Ä¢ Identification &amp; Insurance</h3>
<form id="form-id">
<div class="row">
<div><label>Government ID Type</label><input name="govIdType" placeholder="Driver's License / Passport"/></div>
<div><label>Government ID Number</label><input name="govIdNo"/></div>
</div>
<div class="row">
<div class="row">
<div>
<label>PhilHealth #</label>
<input name="philhealth" placeholder="XXXX-XXXX-XXXX"/>
</div>
<div>
<label>PhilHealth Type</label>
<select name="philType">
<option value="">-- Select PhilHealth Type --</option>
<option>Member</option>
<option>Dependent</option>
<option>Lifetime Member</option>
<option>Sponsored</option>
<option>Indigent</option>
<option>OFW</option>
<option>Private Employee</option>
<option>Government Employee</option>
</select>
</div>
</div>
</div>
<div class="row">
<div><label>HMO / Insurance Provider</label><input name="hmo"/></div>
<div><label>Policy / Membership #</label><input name="policyNo"/></div>
</div>
<div class="actions">
<button class="btn btn-primary" data-save="id" type="button">üíæ Save ID &amp; Insurance</button>
<button class="btn btn-ghost" id="clearID" type="button">Clear</button>
</div>
</form>
</section>
<!-- Medical History -->
<section class="card tab-page" id="tab-history" style="display:none">
<h3>3 ‚Ä¢ Medical History</h3>
<form id="form-history">
<div class="row full">
<label>Present Illness / Chief Complaint</label><textarea name="presentIllness"></textarea>
</div>
<div class="row full">
<label>Past Medical History</label><textarea name="pastHx" placeholder="Chronic illnesses, surgeries"></textarea>
</div>
<div class="row">
<div><label>Family Medical History</label><textarea name="familyHx"></textarea></div>
<div><label>Current Medications</label><textarea name="currentMeds"></textarea></div>
</div>
<div class="row">
<div><label>Immunization History</label><input name="immunization"/></div>
<div><label>Lifestyle &amp; Vocational History</label><input name="lifestyle"/></div>
</div>
<div class="actions">
<button class="btn btn-primary" data-save="history" type="button">üíæ Save Medical History</button>
<button class="btn btn-ghost" id="clearHistory" type="button">Clear</button>
</div>
</form>
</section>
<!-- Assessment -->
<section class="card tab-page" id="tab-assessment" style="display:none">
<h3>4 ‚Ä¢ Assessment</h3>
<form id="form-assessment">
<div class="row" style="grid-template-columns:1fr 1fr;align-items:start">
<div class="iv-box"><label>SITUATION:</label><select name="situation"><option>Sitter</option><option>Fall risk</option><option>Restraints</option><option>Confused</option><option>Alarm</option><option>Suicide</option><option>Withdraw</option></select></div>
<div class="iv-box"><label>PRECAUTIONS:</label><select name="precautions"><option>None</option><option>Droplet</option><option>Aspiration</option><option>Airborne</option><option>Contact</option><option>Chemo</option><option>Seizure</option></select></div>
</div>
<div class="row" style="grid-template-columns:1fr 1fr;align-items:start;margin-top:8px">
<div class="iv-box"><label>CODE:</label><select name="code"><option>None</option><option>Full</option><option>DNR</option><option>DNI</option><option>Limited</option></select></div>
<div class="iv-box">
<label><strong>RESPIRATORY:</strong></label>
<textarea name="respiratory" placeholder="Respiratory notes / oxygen needs" style="min-height:80px"></textarea>
</div>
</div>
<div class="row" style="grid-template-columns:1fr 1fr;align-items:start;margin-top:8px">
<div class="iv-box"><label><strong>NEURO:</strong></label><div style="margin-top:6px"><label>GCS Score: <input max="15" min="3" name="neuro_gcs" style="width:80px;display:inline-block;margin-left:8px" type="number"/></label></div></div>
<div class="iv-box"><label><strong>GI:</strong></label><textarea name="gi" placeholder="GI findings" style="min-height:80px"></textarea></div>
</div>
<div class="row" style="grid-template-columns:1fr 1fr;align-items:start;margin-top:8px">
<div class="iv-box"><label><strong>CARDIAC:</strong></label><textarea name="cardiac" style="min-height:60px"></textarea></div>
<div class="iv-box"><label><strong>GENITOURINARY:</strong></label><textarea name="genitourinary" style="min-height:60px"></textarea></div>
</div>
<div class="row" style="grid-template-columns:1fr 1fr;align-items:start;margin-top:8px">
<div class="iv-box"><label>SKIN INTEGRITY:</label><select name="skin_integrity"><option>Intact</option><option>Wound</option><option>Surgical</option><option>Other</option></select></div>
<div class="iv-box"><label><strong>MUSCULOSKELETAL:</strong></label><textarea name="musculoskeletal" style="min-height:80px"></textarea></div>
</div>
<div class="row" style="grid-template-columns:1fr 1fr;align-items:start;margin-top:8px">
<div class="iv-box"><label><strong>ALLERGIES:</strong></label><textarea name="allergies" style="min-height:80px"></textarea></div>
<div class="iv-box"><label>DIET:</label><select name="diet"><option>Regular Diet</option><option>Soft Diet</option><option>Clear Liquid Diet</option><option>Full Liquid Diet</option><option>Low-Sodium Diet</option><option>Diabetic Diet</option><option>Renal Diet</option><option>NGT</option><option>Gastrostomy Tube</option></select></div>
</div>
<div class="row full" style="margin-top:8px">
<label>NOTES</label>
<textarea name="assessment_notes" placeholder="Free-text assessment / additional notes" style="min-height:120px"></textarea>
</div>
<div class="actions">
<button class="btn btn-primary" data-save="assessment" type="button">üíæ Save Assessment</button>
<button class="btn btn-ghost" onclick="document.getElementById('form-assessment').reset()" type="button">Clear</button>
</div>
</form>
</section>
<!-- Labs -->
<section class="card tab-page" id="tab-labs" style="display:none">
<h3>5 ‚Ä¢ Laboratory &amp; Diagnostics</h3>
<form id="form-labs">
<div class="row full">
<label>Ordered Tests / Imaging</label><textarea name="orderedTests"></textarea>
</div>
<div class="row full">
<label>Results / Interpretation</label><textarea name="testResults"></textarea>
</div>
<div class="row full">
<label>Upload Lab Result (image or PDF)</label>
<input accept="image/*,.pdf" id="labFileInput" type="file"/>
<div style="display:flex;gap:8px;align-items:center;margin-top:8px">
<button class="btn btn-primary" id="uploadLabBtn" type="button">‚¨ÜÔ∏è Upload</button>
<div class="small-muted">Files uploaded will be previewed and saved to patient when you Save Labs.</div>
</div>
<div id="labFilesList" style="margin-top:10px;display:flex;flex-wrap:wrap"></div>
</div>
<div class="actions">
<button class="btn btn-primary" data-save="labs" type="button">üíæ Save Labs</button>
<button class="btn btn-ghost" id="clearLabs" type="button">Clear</button>
</div>
</form>
</section>
<!-- Meds / IV -->
<section class="card tab-page" id="tab-meds" style="display:none">
<h3>6 ‚Ä¢ Medication Orders</h3>
<form id="form-meds">
<div class="row full">
<label>Medication Orders</label>
<div style="overflow-x:auto;">
<table id="medTable" style="width:100%;border-collapse:collapse;margin-top:8px;">
<thead>
<tr>
<th>Drugs</th>
<th>Dosage</th>
<th>Route</th>
<th>Frequency</th>
<th>Administered By</th>
<th>Ordered By</th>
<th>Action</th>
</tr>
</thead>
<tbody id="medTableBody">
<tr>
<td><input name="drug" placeholder="e.g., Paracetamol"/></td>
<td><input name="dosage" placeholder="e.g., 1g"/></td>
<td><input name="route" placeholder="e.g., IV"/></td>
<td><input name="frequency" placeholder="e.g., Q4"/></td>
<td><input name="adminBy" placeholder="e.g., MDSE"/></td>
<td><input name="orderedBy" placeholder="e.g., Dr. S. Hernandez"/></td>
<td><button class="btn btn-ghost" onclick="removeMedRow(this)" type="button">üóëÔ∏è</button></td>
</tr>
</tbody>
</table>
<button class="btn btn-primary" onclick="addMedRow()" style="margin-top:6px;" type="button">‚ûï Add Row</button>
</div>
</div>
<div class="row full">
<label>Medication Orders (drug - dose - route - freq)</label>
</div>
<div class="row">
<div><label>IV Lines / Fluids</label><input name="ivFluids"/></div>
<div><label>Fluid Rate / Notes</label><input name="ivNotes"/></div>
</div>
<div class="row full" style="margin-top:6px">
<div>
<label>Volume to Infuse (mL)</label>
<input id="ivVolume" min="0" name="ivVolume" placeholder="e.g., 1000" step="any" type="number"/>
</div>
<div>
<label>Infusion Time (hours)</label>
<input id="ivTime" min="0" name="ivTime" placeholder="e.g., 8" step="any" type="number"/>
</div>
</div>
<div class="row full">
<div>
<label>Drop Factor (gtt/mL) ‚Äî for gravity sets (optional)</label>
<input id="ivDropFactor" min="0" name="ivDropFactor" placeholder="e.g., 15" step="any" type="number"/>
</div>
<div>
<label>Flow Rate (auto)</label>
<input id="ivFlowRate" name="ivFlowRate" placeholder="Auto-calculated (mL/hr or gtt/min)" readonly=""/>
<div class="iv-help">Auto-calculated as you type. Results show mL/hr and gtt/min (if drop factor provided).</div>
</div>
</div>
<div class="actions">
<button class="btn btn-primary" data-save="meds" type="button">üíæ Save Orders / I&amp;O</button>
<button class="btn btn-ghost" id="clearMeds" type="button">Clear</button>
</div>
</form>
</section>
<!-- Vitals -->
<section class="card tab-page" id="tab-vitals" style="display:none">
<h3>7 ‚Ä¢ Vitals &amp; Monitoring</h3>
<form id="form-vitals">
<div style="display:flex;gap:10px;flex-wrap:wrap;margin-bottom:8px">
<input name="v_date" style="flex:1;min-width:140px" type="date"/>
<input name="v_time" style="flex:1;min-width:120px" type="time"/>
<input name="v_by" placeholder="Recorded by (initials)" style="flex:1;min-width:120px"/>
</div>
<div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:8px">
<input name="v_temp" placeholder="Temp (¬∞C)"/>
<input name="v_pulse" placeholder="Pulse (bpm)"/>
<input name="v_rr" placeholder="RR (breaths/min)"/>
<input name="v_bp" placeholder="BP (e.g., 120/80)"/>
</div>
<div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:8px">
<input name="v_spo2" placeholder="SpO‚ÇÇ (% )"/>
<input name="v_pain" placeholder="Pain (0‚Äì10)"/>
</div>
<div style="display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:8px">
<div><label>Input (mL)</label><input min="0" name="inputMl_v" type="number"/></div>
<div><label>Output (mL)</label><input min="0" name="outputMl_v" type="number"/></div>
</div>
<div style="display:grid;grid-template-columns:1fr 200px;gap:10px;margin-bottom:8px;align-items:center">
<div style="display:flex;gap:8px;align-items:center"><button class="btn btn-ghost" id="btnAddVitals" type="button">‚ûï Add Vitals Row</button><div class="small-muted">Add rows then Save Vitals to persist to patient</div></div>
</div>
<div class="table-wrap" style="margin-bottom:8px;max-height:260px;overflow:auto;border:1px solid rgba(0,0,0,0.04);border-radius:8px;padding:6px">
<table>
<thead><tr><th>Date</th><th>Time</th><th>Temp</th><th>P</th><th>RR</th><th>BP</th><th>SpO‚ÇÇ</th><th>Pain</th><th>By</th><th>Note</th><th>Action</th></tr></thead>
<tbody id="vitalsTableBody"></tbody>
</table>
</div>
<div class="row full">
<label>Other monitoring notes</label><textarea name="monitorNotes"></textarea>
</div>
<div class="actions">
<button class="btn btn-primary" data-save="vitals" id="saveVitalsBtn" type="button">üíæ Save Vitals</button>
<button class="btn btn-ghost" id="clearVitals" type="button">Clear</button>
</div>
</form>
</section>
<!-- Nurse Notes (FDAR) -->
<section class="card tab-page" id="tab-nurse" style="display:none">
<h3>8 ‚Ä¢ Nurse Notes (FDAR)</h3>
<form id="form-nurse">
<div class="row full"><label>F ‚Äî Focus / Findings</label><textarea name="nurse_f" placeholder="Focus or findings"></textarea></div>
<div class="row full"><label>D ‚Äî Data (Objective &amp; Subjective)</label><textarea name="nurse_d" placeholder="Data: vitals, observations, quotes"></textarea></div>
<div class="row full"><label>A ‚Äî Action / Intervention</label><textarea name="nurse_a" placeholder="Actions taken / interventions"></textarea></div>
<div class="row full"><label>R ‚Äî Response / Evaluation</label><textarea name="nurse_r" placeholder="Patient response / evaluation"></textarea></div>
<div class="actions">
<button class="btn btn-primary" data-save="nurse" type="button">üíæ Save Nurse Notes</button>
<button class="btn btn-ghost" id="clearNurse" type="button">Clear</button>
</div>
</form>
</section>
<!-- Doctor Notes -->
<section class="card tab-page" id="tab-doctor" style="display:none">
<h3>9 ‚Ä¢ Doctor Notes</h3>
<form id="form-doctor">
<div class="row full"><label>Doctor's notes</label><textarea id="doctorNotes" name="doctorNotes"></textarea></div>
<div class="actions">
<button class="btn btn-primary" data-save="doctor" type="button">üíæ Save Doctor Notes</button>
<button class="btn btn-ghost" id="clearDoctor" type="button">Clear</button>
</div>
</form>
</section>
<!-- Discharge Plan -->
<section class="card tab-page" id="tab-plan" style="display:none">
<h3>10 ‚Ä¢ Discharge Plan</h3>
<form id="form-plan">
<div class="row"><div><label>Final Diagnosis</label><input name="dis_finalDx"/></div><div><label>Condition on Discharge</label><input name="dis_condition"/></div></div>
<div class="row"><div><label>Medications on Discharge</label><textarea name="dis_meds"></textarea></div><div><label>Follow-up / Referrals</label><textarea name="dis_followup"></textarea></div></div>
<div class="row full"><label>Discharge Instructions</label><textarea name="dis_instructions" style="min-height:100px"></textarea></div>
<div class="actions">
<button class="btn btn-primary" data-save="plan" type="button">üíæ Save Discharge Plan</button>
<button class="btn btn-ghost" id="clearPlan" type="button">Clear</button>
</div>
</form>
</section>
</main>
</div>
</div>
<!-- Modal -->
<button class="btn-ghost" id="printRecordBtn" style="position:absolute;top:12px;right:60px;z-index:200;">üñ®Ô∏è Print Record</button>
<div class="modal" id="modal"><div class="card">
<div class="modal-header-bar">
<div class="patient-header-info">
<div class="patient-name" id="modalPatientName">Patient Name</div>
<div class="patient-subinfo" id="modalPatientSub">Status / Room</div>
</div>
<div class="patient-header-actions">
<button class="btn btn-ghost" id="printRecordBtn">üñ®Ô∏è Print Record</button>
<button class="btn btn-close" onclick="closeModal()">‚úï</button>
</div>
</div>
<div id="modalBody"></div></div></div>
<!-- Toast -->
<div id="toast"></div>
<!-- Loading -->
<div class="loading-overlay" id="loading"><div class="card" style="padding:18px"><strong>Loading...</strong></div></div>
<!-- Firebase SDKs (v8 compatible) -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js">
// Independent BMI calculation for Patient Info
function updateInfoBMI(){
  const w = parseFloat(document.getElementById('info_weight').value);
  const h = parseFloat(document.getElementById('info_height').value);
  const bmiField = document.getElementById('info_bmi');
  const bmiRead = document.getElementById('bmi_reading');
  if(!isFinite(w) || !isFinite(h) || h <= 0){
    bmiField.value = '';
    bmiRead.textContent = '';
    return;
  }
  const bmi = w / Math.pow(h/100, 2);
  bmiField.value = bmi.toFixed(1);
  let reading = '';
  if(bmi < 18.5) reading = '(Underweight)';
  else if(bmi < 25) reading = '(Normal)';
  else if(bmi < 30) reading = '(Overweight)';
  else reading = '(Obese)';
  bmiRead.textContent = reading;
}
['info_weight','info_height'].forEach(id => {
  const el = document.getElementById(id);
  if(el) el.addEventListener('input', updateInfoBMI);
});
</script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>



  <script src="app.js"></script>
</body>
</html>